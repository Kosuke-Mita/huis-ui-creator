(function(n){"use strict";function e(){this.crc=-1}function p(){}function pt(n,t,i){if(t<0||i<0||t+i>n.size)throw new RangeError("offset:"+t+", length:"+i+", size:"+n.size);return n.slice?n.slice(t,t+i):n.webkitSlice?n.webkitSlice(t,t+i):n.mozSlice?n.mozSlice(t,t+i):n.msSlice?n.msSlice(t,t+i):void 0}function t(n,t){var i,r;return i=new ArrayBuffer(n),r=new Uint8Array(i),t&&r.set(t,0),{buffer:i,array:r,view:new DataView(i)}}function o(){}function s(n){function u(u,f){var e=new Blob([n],{type:v});i=new r(e);i.init(function(){t.size=i.size;u()},f)}function f(n,t,r,u){i.readUint8Array(n,t,r,u)}var t=this,i;t.size=0;t.init=u;t.readUint8Array=f}function h(i){function f(n){for(var t=i.length;i.charAt(t-1)=="=";)t--;u=i.indexOf(",")+1;r.size=Math.floor((t-u)*.75);n()}function e(r,f,e){for(var h=t(f),c=Math.floor(r/3)*4,l=Math.ceil((r+f)/3)*4,a=n.atob(i.substring(c+u,l+u)),s=r-Math.floor(c/4)*3,o=s;o<s+f;o++)h.array[o-s]=a.charCodeAt(o);e(h.array)}var r=this,u;r.size=0;r.init=f;r.readUint8Array=e}function r(n){function i(i){t.size=n.size;i()}function r(t,i,r,u){var f=new FileReader;f.onload=function(n){r(new Uint8Array(n.target.result))};f.onerror=u;try{f.readAsArrayBuffer(pt(n,t,i))}catch(e){u(e)}}var t=this;t.size=0;t.init=i;t.readUint8Array=r}function u(){}function c(n){function r(n){t=new Blob([],{type:v});n()}function u(n,i){t=new Blob([t,y?n:n.buffer],{type:v});i()}function f(i,r){var u=new FileReader;u.onload=function(n){i(n.target.result)};u.onerror=r;u.readAsText(t,n)}var i=this,t;i.init=r;i.writeUint8Array=u;i.getData=f}function l(t){function f(n){u+="data:"+(t||"")+";base64,";n()}function e(t,r){var f,o=i.length,e=i;for(i="",f=0;f<Math.floor((o+t.length)/3)*3-o;f++)e+=String.fromCharCode(t[f]);for(;f<t.length;f++)i+=String.fromCharCode(t[f]);e.length>2?u+=n.btoa(e):i=e;r()}function o(t){t(u+n.btoa(i))}var r=this,u="",i="";r.init=f;r.writeUint8Array=e;r.getData=o}function a(n){function r(i){t=new Blob([],{type:n});i()}function u(i,r){t=new Blob([t,y?i:i.buffer],{type:n});r()}function f(n){n(t)}var t,i=this;i.init=r;i.writeUint8Array=u;i.getData=f}function w(n,t,i,r,u,e,o,s,h,c){function b(){n.removeEventListener("message",k,!1);s(a,w)}function k(t){var i=t.data,u=i.data,f=i.error;if(f){f.toString=function(){return"Error: "+this.message};h(f);return}if(i.sn===v){typeof i.codecTime=="number"&&(n.codecTime+=i.codecTime);typeof i.crcTime=="number"&&(n.crcTime+=i.crcTime);switch(i.type){case"append":u?(a+=u.length,r.writeUint8Array(u,function(){y()},c)):y();break;case"flush":w=i.crc;u?(a+=u.length,r.writeUint8Array(u,function(){b()},c)):b();break;case"progress":o&&o(l+i.loaded,e);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",i)}}}function y(){l=p*f;l<=e?i.readUint8Array(u+l,Math.min(f,e-l),function(i){o&&o(l,e);var r=l===0?t:{sn:v};r.type="append";r.data=i;try{n.postMessage(r,[i.buffer])}catch(u){n.postMessage(r)}p++},h):n.postMessage({sn:v,type:"flush"})}var p=0,l,a,v=t.sn,w;a=0;n.addEventListener("message",k,!1);y()}function b(n,t,i,r,u,o,s,h,c,l){function w(){var e;if(a=p*f,a<u)t.readUint8Array(r+a,Math.min(f,u-a),function(t){var r;try{r=n.append(t,function(n){s&&s(a+n,u)})}catch(f){c(f);return}r?(y+=r.length,i.writeUint8Array(r,function(){p++;setTimeout(w,1)},l),b&&v.append(r)):(p++,setTimeout(w,1));k&&v.append(t);s&&s(a,u)},c);else{try{e=n.flush()}catch(o){c(o);return}e?(b&&v.append(e),y+=e.length,i.writeUint8Array(e,function(){h(y,v.get())},l)):h(y,v.get())}}var p=0,a,y=0,k=o==="input",b=o==="output",v=new e;w()}function wt(t,i,r,u,f,e,o,s,h,c,l){var a=o?"output":"none",v;n.zip.useWebWorkers?(v={sn:i,codecClass:"Inflater",crcType:a},w(t,v,r,u,f,e,h,s,c,l)):b(new n.zip.Inflater,r,u,f,e,a,h,s,c,l)}function bt(t,i,r,u,f,e,o,s,h){var c="input",l;n.zip.useWebWorkers?(l={sn:i,options:{level:f},codecClass:"Deflater",crcType:c},w(t,l,r,u,0,r.size,o,e,s,h)):b(new n.zip.Deflater,r,u,0,r.size,c,o,e,s,h)}function g(t,i,r,u,f,e,o,s,h,c,l){var a="input",v;n.zip.useWebWorkers&&o?(v={sn:i,codecClass:"NOOP",crcType:a},w(t,v,r,u,f,e,h,s,c,l)):b(new p,r,u,f,e,a,h,s,c,l)}function nt(n){for(var r="",i,u=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "],t=0;t<n.length;t++)i=n.charCodeAt(t)&255,r+=i>127?u[i-128]:String.fromCharCode(i);return r}function tt(n){return decodeURIComponent(escape(n))}function it(n){for(var i="",t=0;t<n.length;t++)i+=String.fromCharCode(n[t]);return i}function kt(n){var t=(n&4294901760)>>16,i=n&65535;try{return new Date(1980+((t&65024)>>9),((t&480)>>5)-1,t&31,(i&63488)>>11,(i&2016)>>5,(i&31)*2,0)}catch(r){}}function rt(n,t,i,r,u){if(n.version=t.view.getUint16(i,!0),n.bitFlag=t.view.getUint16(i+2,!0),n.compressionMethod=t.view.getUint16(i+4,!0),n.lastModDateRaw=t.view.getUint32(i+6,!0),n.lastModDate=kt(n.lastModDateRaw),(n.bitFlag&1)==1){u(ct);return}if((r||(n.bitFlag&8)!=8)&&(n.crc32=t.view.getUint32(i+10,!0),n.compressedSize=t.view.getUint32(i+14,!0),n.uncompressedSize=t.view.getUint32(i+18,!0)),n.compressedSize===4294967295||n.uncompressedSize===4294967295){u(lt);return}n.filenameLength=t.view.getUint16(i+22,!0);n.extraFieldLength=t.view.getUint16(i+24,!0)}function dt(r,u,f){function s(){}function h(n){function o(i,u){r.readUint8Array(r.size-i,i,function(i){for(var r=i.length-t;r>=0;r--)if(i[r]===80&&i[r+1]===75&&i[r+2]===5&&i[r+3]===6){n(new DataView(i.buffer,r,t));return}u()},function(){f(k)})}var t=22,u,e;if(r.size<t){f(i);return}u=65536;e=t+u;o(t,function(){o(Math.min(e,r.size),function(){f(i)})})}var o=0,e;s.prototype.getData=function(n,u,e,s){function v(n){var i=t(4);return i.view.setUint32(0,n),h.crc32==i.view.getUint32(0)}function a(t,i){s&&!v(i)?f(ht):n.getData(function(n){u(n)})}function c(n){f(n||d)}function l(n){f(n||vt)}var h=this;r.readUint8Array(h.offset,30,function(u){var y=t(u.length,u),v;if(y.view.getUint32(0)!=1347093252){f(i);return}rt(h,y,4,!1,f);v=h.offset+30+h.filenameLength+h.extraFieldLength;n.init(function(){h.compressionMethod===0?g(h._worker,o++,r,n,v,h.compressedSize,s,a,e,c,l):wt(h._worker,o++,r,n,v,h.compressedSize,s,a,e,c,l)},l)},c)};e={getEntries:function(n){var u=this._worker;h(function(e){var o,h;if(o=e.getUint32(16,!0),h=e.getUint16(8,!0),o<0||o>=r.size){f(i);return}r.readUint8Array(o,r.size-o,function(r){for(var o=0,y=[],e,a,v,c=t(r.length,r),l=0;l<h;l++){if(e=new s,e._worker=u,c.view.getUint32(o)!=1347092738){f(i);return}rt(e,c,o+6,!0,f);e.commentLength=c.view.getUint16(o+32,!0);e.directory=(c.view.getUint8(o+38)&16)==16;e.offset=c.view.getUint32(o+42,!0);a=it(c.array.subarray(o+46,o+46+e.filenameLength));e.filename=(e.bitFlag&2048)==2048?tt(a):nt(a);e.directory||e.filename.charAt(e.filename.length-1)!="/"||(e.directory=!0);v=it(c.array.subarray(o+46+e.filenameLength+e.extraFieldLength,o+46+e.filenameLength+e.extraFieldLength+e.commentLength));e.comment=(e.bitFlag&2048)==2048?tt(v):nt(v);y.push(e);o+=46+e.filenameLength+e.extraFieldLength+e.commentLength}n(y)},function(){f(k)})})},close:function(n){this._worker&&(this._worker.terminate(),this._worker=null);n&&n()},_worker:null};n.zip.useWebWorkers?ot("inflater",function(n){e._worker=n;u(e)},function(n){f(n)}):u(e)}function ut(n){return unescape(encodeURIComponent(n))}function ft(n){for(var i=[],t=0;t<n.length;t++)i.push(n.charCodeAt(t));return i}function gt(i,r,u,f){function o(n){u(n||at)}function c(n){u(n||d)}var h={},e=[],s=0,a=0,l={add:function(n,r,l,v,y){function tt(r){var u;w=y.lastModDate||new Date;p=t(26);h[n]={headerArray:p.array,directory:y.directory,filename:b,offset:s,comment:ft(ut(y.comment||""))};p.view.setUint32(0,335546376);y.version&&p.view.setUint8(0,y.version);f||y.level===0||y.directory||p.view.setUint16(4,2048);p.view.setUint16(6,(w.getHours()<<6|w.getMinutes())<<5|w.getSeconds()/2,!0);p.view.setUint16(8,(w.getFullYear()-1980<<4|w.getMonth()+1)<<5|w.getDate(),!0);p.view.setUint16(22,b.length,!0);u=t(30+b.length);u.view.setUint32(0,1347093252);u.array.set(p.array,4);u.array.set(b,30);s+=u.array.length;i.writeUint8Array(u.array,r,o)}function k(n,u){var f=t(16);s+=n||0;f.view.setUint32(0,1347094280);typeof u!="undefined"&&(p.view.setUint32(10,u,!0),f.view.setUint32(4,u,!0));r&&(f.view.setUint32(8,n,!0),p.view.setUint32(14,n,!0),f.view.setUint32(12,r.size,!0),p.view.setUint32(18,r.size,!0));i.writeUint8Array(f.array,function(){s+=16;l()},o)}function nt(){if(y=y||{},n=n.trim(),y.directory&&n.charAt(n.length-1)!="/"&&(n+="/"),h.hasOwnProperty(n)){u(yt);return}b=ft(ut(n));e.push(n);tt(function(){r?f||y.level===0?g(d,a++,r,i,0,r.size,!0,k,v,c,o):bt(d,a++,r,i,y.level,k,v,c,o):k()},o)}var p,b,w,d=this._worker;r?r.init(nt,c):nt()},close:function(n){this._worker&&(this._worker.terminate(),this._worker=null);for(var r,l=0,u=0,f,c=0;c<e.length;c++)f=h[e[c]],l+=46+f.filename.length+f.comment.length;for(r=t(l+22),c=0;c<e.length;c++)f=h[e[c]],r.view.setUint32(u,1347092738),r.view.setUint16(u+4,5120),r.array.set(f.headerArray,u+6),r.view.setUint16(u+32,f.comment.length,!0),f.directory&&r.view.setUint8(u+38,16),r.view.setUint32(u+42,f.offset,!0),r.array.set(f.filename,u+46),r.array.set(f.comment,u+46+f.filename.length),u+=46+f.filename.length+f.comment.length;r.view.setUint32(u,1347093766);r.view.setUint16(u+8,e.length,!0);r.view.setUint16(u+10,e.length,!0);r.view.setUint32(u+12,l,!0);r.view.setUint32(u+16,s,!0);i.writeUint8Array(r.array,function(){i.getData(n)},o)},_worker:null};n.zip.useWebWorkers?ot("deflater",function(n){l._worker=n;r(l)},function(n){u(n)}):r(l)}function ni(n){var t=document.createElement("a");return n.map(function(n){return t.href=n,t.href})}function ot(t,i,r){function e(n){var t=n.data;if(t.error){u.terminate();r(t.error);return}t.type==="importScripts"&&(u.removeEventListener("message",e),u.removeEventListener("error",o),i(u))}function o(n){u.terminate();r(n)}var f,u;if(n.zip.workerScripts!==null&&n.zip.workerScriptsPath!==null){r(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));return}if(n.zip.workerScripts){if(f=n.zip.workerScripts[t],!Array.isArray(f)){r(new Error("zip.workerScripts."+t+" is not an array!"));return}f=ni(f)}else f=et[t].slice(0),f[0]=(n.zip.workerScriptsPath||"")+f[0];u=new Worker(f[0]);u.codecTime=u.crcTime=0;u.postMessage({type:"importScripts",scripts:f.slice(1)});u.addEventListener("message",e);u.addEventListener("error",o)}function st(n){console.error(n)}var i="File format is not recognized.",ht="CRC failed.",ct="File contains encrypted entry.",lt="File is using Zip64 (4gb+ file size).",k="Error while reading zip file.",at="Error while writing zip file.",vt="Error while writing file data.",d="Error while reading file data.",yt="File already exists.",f=524288,v="text/plain",y,et;try{y=new Blob([new DataView(new ArrayBuffer(0))]).size===0}catch(ti){}e.prototype.append=function(n){for(var t=this.crc|0,r=this.table,i=0,u=n.length|0;i<u;i++)t=t>>>8^r[(t^n[i])&255];this.crc=t};e.prototype.get=function(){return~this.crc};e.prototype.table=function(){for(var i,n,r=[],t=0;t<256;t++){for(n=t,i=0;i<8;i++)n=n&1?n>>>1^3988292384:n>>>1;r[t]=n}return r}();p.prototype.append=function(n){return n};p.prototype.flush=function(){};s.prototype=new o;s.prototype.constructor=s;h.prototype=new o;h.prototype.constructor=h;r.prototype=new o;r.prototype.constructor=r;u.prototype.getData=function(n){n(this.data)};c.prototype=new u;c.prototype.constructor=c;l.prototype=new u;l.prototype.constructor=l;a.prototype=new u;a.prototype.constructor=a;et={deflater:["z-worker.js","deflate.js"],inflater:["z-worker.js","inflate.js"]};n.zip={Reader:o,Writer:u,BlobReader:r,Data64URIReader:h,TextReader:s,BlobWriter:a,Data64URIWriter:l,TextWriter:c,createReader:function(n,t,i){i=i||st;n.init(function(){dt(n,t,i)},i)},createWriter:function(n,t,i,r){i=i||st;r=!!r;n.init(function(){gt(n,t,i,r)},i)},useWebWorkers:!0,workerScriptsPath:null,workerScripts:null}})(this);
